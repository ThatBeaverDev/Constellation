/*https://esm.sh/fzf@0.5.2/es2022/fzf.mjs*/

/* esm.sh - fzf@0.5.2 */
var __setImmediate$ = (cb, ...args) => ( { $t: setTimeout(cb, 0, ...args), [Symbol.dispose](){ clearTimeout(this.t) } });
var yt=(t=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(t,{get:(e,n)=>(typeof require<"u"?require:e)[n]}):t)(function(t){if(typeof require<"u")return require.apply(this,arguments);throw Error('Dynamic require of "'+t+'" is not supported')});var dt={216:"O",223:"s",248:"o",273:"d",295:"h",305:"i",320:"l",322:"l",359:"t",383:"s",384:"b",385:"B",387:"b",390:"O",392:"c",393:"D",394:"D",396:"d",398:"E",400:"E",402:"f",403:"G",407:"I",409:"k",410:"l",412:"M",413:"N",414:"n",415:"O",421:"p",427:"t",429:"t",430:"T",434:"V",436:"y",438:"z",477:"e",485:"g",544:"N",545:"d",549:"z",564:"l",565:"n",566:"t",567:"j",570:"A",571:"C",572:"c",573:"L",574:"T",575:"s",576:"z",579:"B",580:"U",581:"V",582:"E",583:"e",584:"J",585:"j",586:"Q",587:"q",588:"R",589:"r",590:"Y",591:"y",592:"a",593:"a",595:"b",596:"o",597:"c",598:"d",599:"d",600:"e",603:"e",604:"e",605:"e",606:"e",607:"j",608:"g",609:"g",610:"G",613:"h",614:"h",616:"i",618:"I",619:"l",620:"l",621:"l",623:"m",624:"m",625:"m",626:"n",627:"n",628:"N",629:"o",633:"r",634:"r",635:"r",636:"r",637:"r",638:"r",639:"r",640:"R",641:"R",642:"s",647:"t",648:"t",649:"u",651:"v",652:"v",653:"w",654:"y",655:"Y",656:"z",657:"z",663:"c",665:"B",666:"e",667:"G",668:"H",669:"j",670:"k",671:"L",672:"q",686:"h",867:"a",868:"e",869:"i",870:"o",871:"u",872:"c",873:"d",874:"h",875:"m",876:"r",877:"t",878:"v",879:"x",7424:"A",7427:"B",7428:"C",7429:"D",7431:"E",7432:"e",7433:"i",7434:"J",7435:"K",7436:"L",7437:"M",7438:"N",7439:"O",7440:"O",7441:"o",7442:"o",7443:"o",7446:"o",7447:"o",7448:"P",7449:"R",7450:"R",7451:"T",7452:"U",7453:"u",7454:"u",7455:"m",7456:"V",7457:"W",7458:"Z",7522:"i",7523:"r",7524:"u",7525:"v",7834:"a",7835:"s",8305:"i",8341:"h",8342:"k",8343:"l",8344:"m",8345:"n",8346:"p",8347:"s",8348:"t",8580:"c"};for(let t="\u0300".codePointAt(0);t<="\u036F".codePointAt(0);++t){let e=String.fromCodePoint(t);for(let n of"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz"){let s=(n+e).normalize().codePointAt(0);s>126&&(dt[s]=n)}}var lt={a:[7844,7863],e:[7870,7879],o:[7888,7907],u:[7912,7921]};for(let t of Object.keys(lt)){let e=t.toUpperCase();for(let n=lt[t][0];n<=lt[t][1];++n)dt[n]=n%2===0?e:t}function E(t){if(t<192||t>8580)return t;let e=dt[t];return e!==void 0?e.codePointAt(0):t}function k(t,e){return t>e?t:e}var $=t=>t.split("").map(e=>e.codePointAt(0)),ft=t=>t.map(e=>String.fromCodePoint(e)).join(""),Mt=new Set(` \f
\r	\v\xA0\u1680\u2028\u2029\u202F\u205F\u3000\uFEFF`.split("").map(t=>t.codePointAt(0)));for(let t="\u2000".codePointAt(0);t<="\u200A".codePointAt(0);t++)Mt.add(t);var U=t=>Mt.has(t),It=t=>{let e=0;for(let n of t)if(U(n))e++;else break;return e},_t=t=>{let e=0;for(let n=t.length-1;n>=0&&U(t[n]);n--)e++;return e},D="\x7F".codePointAt(0),K="A".codePointAt(0),Y="Z".codePointAt(0),kt="a".codePointAt(0),Ot="z".codePointAt(0),se="0".codePointAt(0),ie="9".codePointAt(0);function F(t,e,n){return n?t:e-t-1}var H=16,q=-3,J=-1,M=H/2,re=H/2,oe=M+J,zt=-(q+J),gt=2;function ut(t){return t?new Set:null}function V(t,e,n){if(e!==null&&e.i16.length>t+n){let i=e.i16.subarray(t,t+n);return[t+n,i]}return[t,new Int16Array(n)]}function Et(t,e,n){if(e!==null&&e.i32.length>t+n){let i=e.i32.subarray(t,t+n);return[t+n,i]}return[t,new Int32Array(n)]}function Bt(t){return t>=kt&&t<=Ot?1:t>=K&&t<=Y?2:t>=se&&t<=ie?4:0}function vt(t){let e=String.fromCodePoint(t);return e!==e.toUpperCase()?1:e!==e.toLowerCase()?2:e.match(/\p{Number}/gu)!==null?4:e.match(/\p{Letter}/gu)!==null?3:0}function tt(t){return t<=D?Bt(t):vt(t)}function mt(t,e){return t===0&&e!==0?M:t===1&&e===2||t!==4&&e===4?oe:e===0?re:0}function ce(t,e){return e===0?M:mt(tt(t[e-1]),tt(t[e]))}function le(t,e,n,i){let s=t.slice(i),l=s.indexOf(n);if(l===0)return i;if(!e&&n>=kt&&n<=Ot){l>0&&(s=s.slice(0,l));let a=s.indexOf(n-32);a>=0&&(l=a)}return l<0?-1:i+l}function wt(t){for(let e of t)if(e>=128)return!1;return!0}function bt(t,e,n){if(!wt(t))return 0;if(!wt(e))return-1;let i=0,s=0;for(let l=0;l<e.length;l++){if(s=le(t,n,e[l],s),s<0)return-1;l===0&&s>0&&(i=s-1),s++}return i}var Ft=(t,e,n,i,s,l,a)=>{let r=s.length;if(r===0)return[{start:0,end:0,score:0},ut(l)];let o=i.length;if(a!==null&&o*r>a.i16.length)return Ut(t,e,n,i,s,l);let f=bt(i,s,t);if(f<0)return[{start:-1,end:-1,score:0},null];let u=0,d=0,c=null,h=null,g=null,m=null;[u,c]=V(u,a,o),[u,h]=V(u,a,o),[u,g]=V(u,a,o),[d,m]=Et(d,a,r);let[,p]=Et(d,a,o);for(let b=0;b<p.length;b++)p[b]=i[b];let A=0,S=0,j=0,W=0,Jt=s[0],Pt=s[0],it=0,At=0,rt=!1,G=p.subarray(f),X=c.subarray(f).subarray(0,G.length),Ct=h.subarray(f).subarray(0,G.length),Xt=g.subarray(f).subarray(0,G.length);for(let[b,P]of G.entries()){let C=null;P<=D?(C=Bt(P),!t&&C===2&&(P+=32)):(C=vt(P),!t&&C===2&&(P=String.fromCodePoint(P).toLowerCase().codePointAt(0)),e&&(P=E(P))),G[b]=P;let x=mt(At,C);if(Xt[b]=x,At=C,P===Pt&&(j<r&&(m[j]=f+b,j++,Pt=s[Math.min(j,r-1)]),W=f+b),P===Jt){let L=H+x*gt;if(X[b]=L,Ct[b]=1,r===1&&(n&&L>A||!n&&L>=A)&&(A=L,S=f+b,n&&x===M))break;rt=!1}else rt?X[b]=k(it+J,0):X[b]=k(it+q,0),Ct[b]=0,rt=!0;it=X[b]}if(j!==r)return[{start:-1,end:-1,score:0},null];if(r===1){let b={start:S,end:S+1,score:A};if(!l)return[b,null];let P=new Set;return P.add(S),[b,P]}let w=m[0],R=W-w+1,I=null;[u,I]=V(u,a,R*r);{let b=c.subarray(w,W+1);for(let[P,C]of b.entries())I[P]=C}let[,z]=V(u,a,R*r);{let b=h.subarray(w,W+1);for(let[P,C]of b.entries())z[P]=C}let St=m.subarray(1),Qt=s.slice(1).slice(0,St.length);for(let[b,P]of St.entries()){let C=!1,x=Qt[b],L=b+1,_=L*R,y=p.subarray(P,W+1),xt=g.subarray(P).subarray(0,y.length),$t=z.subarray(_+P-w).subarray(0,y.length),qt=z.subarray(_+P-w-1-R).subarray(0,y.length),te=I.subarray(_+P-w).subarray(0,y.length),ee=I.subarray(_+P-w-1-R).subarray(0,y.length),ct=I.subarray(_+P-w-1).subarray(0,y.length);ct[0]=0;for(let[N,ne]of y.entries()){let Lt=N+P,B=0,T=0,v=0;if(C?T=ct[N]+J:T=ct[N]+q,x===ne){B=ee[N]+H;let Z=xt[N];v=qt[N]+1,Z===M?v=1:v>1&&(Z=k(Z,k(zt,g[Lt-v+1]))),B+Z<T?(B+=xt[N],v=0):B+=Z}$t[N]=v,C=B<T;let Q=k(k(B,T),0);L===r-1&&(n&&Q>A||!n&&Q>=A)&&(A=Q,S=Lt),te[N]=Q}}let ot=ut(l),O=w;if(l&&ot!==null){let b=r-1;O=S;let P=!0;for(;;){let C=b*R,x=O-w,L=I[C+x],_=0,y=0;if(b>0&&O>=m[b]&&(_=I[C-R+x-1]),O>m[b]&&(y=I[C+x-1]),L>_&&(L>y||L===y&&P)){if(ot.add(O),b===0)break;b--}P=z[C+x]>1||C+R+x+1<z.length&&z[C+R+x+1]>0,O--}}return[{start:O,end:S+1,score:A},ot]};function nt(t,e,n,i,s,l,a){let r=0,o=0,f=!1,u=0,d=0,c=ut(a),h=0;s>0&&(h=tt(n[s-1]));for(let g=s;g<l;g++){let m=n[g],p=tt(m);if(t||(m>=K&&m<=Y?m+=32:m>D&&(m=String.fromCodePoint(m).toLowerCase().codePointAt(0))),e&&(m=E(m)),m===i[r]){a&&c!==null&&c.add(g),o+=H;let A=mt(h,p);u===0?d=A:(A===M&&(d=A),A=k(k(A,d),zt)),r===0?o+=A*gt:o+=A,f=!1,u++,r++}else f?o+=J:o+=q,f=!0,u=0,d=0;h=p}return[o,c]}var Ut=(t,e,n,i,s,l,a)=>{if(s.length===0)return[{start:0,end:0,score:0},null];if(bt(i,s,t)<0)return[{start:-1,end:-1,score:0},null];let r=0,o=-1,f=-1,u=i.length,d=s.length;for(let c=0;c<u;c++){let h=i[F(c,u,n)];t||(h>=K&&h<=Y?h+=32:h>D&&(h=String.fromCodePoint(h).toLowerCase().codePointAt(0))),e&&(h=E(h));let g=s[F(r,d,n)];if(h===g&&(o<0&&(o=c),r++,r===d)){f=c+1;break}}if(o>=0&&f>=0){r--;for(let g=f-1;g>=o;g--){let m=F(g,u,n),p=i[m];t||(p>=K&&p<=Y?p+=32:p>D&&(p=String.fromCodePoint(p).toLowerCase().codePointAt(0)));let A=F(r,d,n),S=s[A];if(p===S&&(r--,r<0)){o=g;break}}if(!n){let g=o;o=u-f,f=u-g}let[c,h]=nt(t,e,i,s,o,f,l);return[{start:o,end:f,score:c},h]}return[{start:-1,end:-1,score:0},null]},Dt=(t,e,n,i,s,l,a)=>{if(s.length===0)return[{start:0,end:0,score:0},null];let r=i.length,o=s.length;if(r<o)return[{start:-1,end:-1,score:0},null];if(bt(i,s,t)<0)return[{start:-1,end:-1,score:0},null];let f=0,u=-1,d=0,c=-1;for(let h=0;h<r;h++){let g=F(h,r,n),m=i[g];t||(m>=K&&m<=Y?m+=32:m>D&&(m=String.fromCodePoint(m).toLowerCase().codePointAt(0))),e&&(m=E(m));let p=F(f,o,n);if(s[p]===m){if(p===0&&(d=ce(i,g)),f++,f===o){if(d>c&&(u=h,c=d),d===M)break;h-=f-1,f=0,d=0}}else h-=f,f=0,d=0}if(u>=0){let h=0,g=0;n?(h=u-o+1,g=u+1):(h=r-(u+1),g=r-(u-o+1));let[m]=nt(t,e,i,s,h,g,!1);return[{start:h,end:g,score:m},null]}return[{start:-1,end:-1,score:0},null]},fe=(t,e,n,i,s,l,a)=>{if(s.length===0)return[{start:0,end:0,score:0},null];let r=0;if(U(s[0])||(r=It(i)),i.length-r<s.length)return[{start:-1,end:-1,score:0},null];for(let[u,d]of s.entries()){let c=i[r+u];if(t||(c=String.fromCodePoint(c).toLowerCase().codePointAt(0)),e&&(c=E(c)),c!==d)return[{start:-1,end:-1,score:0},null]}let o=s.length,[f]=nt(t,e,i,s,r,r+o,!1);return[{start:r,end:r+o,score:f},null]},ue=(t,e,n,i,s,l,a)=>{let o=i.length;if((s.length===0||!U(s[s.length-1]))&&(o-=_t(i)),s.length===0)return[{start:o,end:o,score:0},null];let f=o-s.length;if(f<0)return[{start:-1,end:-1,score:0},null];for(let[g,m]of s.entries()){let p=i[g+f];if(t||(p=String.fromCodePoint(p).toLowerCase().codePointAt(0)),e&&(p=E(p)),p!==m)return[{start:-1,end:-1,score:0},null]}let u=s.length,d=o-u,c=o,[h]=nt(t,e,i,s,d,c,!1);return[{start:d,end:c,score:h},null]},ae=(t,e,n,i,s,l,a)=>{let r=s.length;if(r===0)return[{start:-1,end:-1,score:0},null];let o=0;U(s[0])||(o=It(i));let f=0;if(U(s[r-1])||(f=_t(i)),i.length-o-f!=r)return[{start:-1,end:-1,score:0},null];let u=!0;if(e){let d=i;for(let[c,h]of s.entries()){let g=d[o+c];if(t||(g=String.fromCodePoint(g).toLowerCase().codePointAt(0)),E(h)!==E(g)){u=!1;break}}}else{let d=ft(i).substring(o,i.length-f);t||(d=d.toLowerCase()),u=d===ft(s)}return u?[{start:o,end:o+r,score:(H+M)*r+(gt-1)*M},null]:[{start:-1,end:-1,score:0},null]},he=100*1024,de=2048;function ge(t,e){return{i16:new Int16Array(t),i32:new Int32Array(e)}}var Ht=ge(he,de),jt=(t=>(t[t.Fuzzy=0]="Fuzzy",t[t.Exact=1]="Exact",t[t.Prefix=2]="Prefix",t[t.Suffix=3]="Suffix",t[t.Equal=4]="Equal",t))(jt||{}),me={0:Ft,1:Dt,2:fe,3:ue,4:ae};function Wt(t,e,n,i){let s=!0;i=i.trimLeft();{let r=i.trimRight();r.endsWith("\\")&&i[r.length]===" "?i=r+" ":i=r}let l=!1,a=[];a=be(t,e,n,i);t:for(let r of a)for(let[o,f]of r.entries())if(f.inv||(l=!0),(!s||o>0||f.inv||t&&f.typ!==0||!t&&f.typ!==1)&&(s=!1,l))break t;return{str:i,termSets:a,sortable:l,cacheable:s,fuzzy:t}}function be(t,e,n,i){i=i.replace(/\\ /g,"	");let s=i.split(/ +/),l=[],a=[],r=!1,o=!1;for(let f of s){let u=0,d=!1,c=f.replace(/\t/g," "),h=c.toLowerCase(),g=e==="case-sensitive"||e==="smart-case"&&c!==h,m=n&&h===ft($(h).map(E));if(g||(c=h),t||(u=1),a.length>0&&!o&&c==="|"){r=!1,o=!0;continue}if(o=!1,c.startsWith("!")&&(d=!0,u=1,c=c.substring(1)),c!=="$"&&c.endsWith("$")&&(u=3,c=c.substring(0,c.length-1)),c.startsWith("'")?(t&&!d?u=1:u=0,c=c.substring(1)):c.startsWith("^")&&(u===3?u=4:u=2,c=c.substring(1)),c.length>0){r&&(l.push(a),a=[]);let p=$(c);m&&(p=p.map(E)),a.push({typ:u,inv:d,text:p,caseSensitive:g,normalize:m}),r=!0}}return a.length>0&&l.push(a),l}var Gt=(t,e,n)=>{let i=!1;switch(e){case"smart-case":t.toLowerCase()!==t&&(i=!0);break;case"case-sensitive":i=!0;break;case"case-insensitive":t=t.toLowerCase(),i=!1;break}let s=$(t);return n&&(s=s.map(E)),{queryRunes:s,caseSensitive:i}};function pe(t,e,n,i,s,l,a){for(let r of e){let[o,f]=t(n,i,s,r.text,l,!0,a);if(o.start>=0){let u=o.start+r.prefixLength,d=o.end+r.prefixLength;if(f!==null){let c=new Set;return f.forEach(h=>c.add(r.prefixLength+h)),[[u,d],o.score,c]}return[[u,d],o.score,f]}}return[[-1,-1],0,null]}function Pe(t,e,n,i){let s=[{text:t,prefixLength:0}],l=[],a=0,r=new Set;for(let o of e.termSets){let f=[0,0],u=0,d=!1;for(let c of o){let h=me[c.typ];c.typ===jt.Fuzzy&&(h=n);let[g,m,p]=pe(h,s,c.caseSensitive,c.normalize,i,c.text,Ht);if(g[0]>=0){if(c.inv)continue;if(f=g,u=m,d=!0,p!==null)p.forEach(S=>r.add(S));else for(let S=g[0];S<g[1];++S)r.add(S);break}else if(c.inv){f=[0,0],u=0,d=!0;continue}}d&&(l.push(f),a+=u)}return{offsets:l,totalScore:a,allPos:r}}function st(t,e){let n=Object.keys(t).map(s=>parseInt(s,10)).sort((s,l)=>l-s),i=[];for(let s of n)if(i=i.concat(t[s]),i.length>=e)break;return i}function Tt(t,e,n){return i=>{let s=this.runesList[i];if(e.length>s.length)return;let[l,a]=this.algoFn(n,this.opts.normalize,this.opts.forward,s,e,!0,Ht);if(l.start===-1)return;if(this.opts.fuzzy===!1){a=new Set;for(let o=l.start;o<l.end;++o)a.add(o)}let r=this.opts.sort?l.score:0;t[r]===void 0&&(t[r]=[]),t[r].push({item:this.items[i],...l,positions:a??new Set})}}function Zt(t,e){return n=>{let i=this.runesList[n],s=Pe(i,e,this.algoFn,this.opts.forward);if(s.offsets.length!==e.termSets.length)return;let l=-1,a=-1;s.allPos.size>0&&(l=Math.min(...s.allPos),a=Math.max(...s.allPos)+1);let r=this.opts.sort?s.totalScore:0;t[r]===void 0&&(t[r]=[]),t[r].push({score:s.totalScore,item:this.items[n],positions:s.allPos,start:l,end:a})}}function Ae(t){let{queryRunes:e,caseSensitive:n}=Gt(t,this.opts.casing,this.opts.normalize),i={},s=Tt.bind(this)(i,e,n);for(let l=0,a=this.runesList.length;l<a;++l)s(l);return st(i,this.opts.limit)}function Ee(t){let e=Wt(!!this.opts.fuzzy,this.opts.casing,this.opts.normalize,t),n={},i=Zt.bind(this)(n,e);for(let s=0,l=this.runesList.length;s<l;++s)i(s);return st(n,this.opts.limit)}var Ce=typeof yt<"u"&&typeof window>"u";function Vt(t,e,n,i){return new Promise((s,l)=>{let r=0,o=Math.min(1e3,e),f=()=>{if(t.cancelled)return l("search cancelled");for(;r<o;++r)n(r);o<e?(o=Math.min(o+1e3,e),Ce?__setImmediate$(f):setTimeout(f)):s(i())};f()})}function Se(t,e){let{queryRunes:n,caseSensitive:i}=Gt(t,this.opts.casing,this.opts.normalize),s={};return Vt(e,this.runesList.length,Tt.bind(this)(s,n,i),()=>st(s,this.opts.limit))}function we(t,e){let n=Wt(!!this.opts.fuzzy,this.opts.casing,this.opts.normalize,t),i={};return Vt(e,this.runesList.length,Zt.bind(this)(i,n),()=>st(i,this.opts.limit))}var pt={limit:1/0,selector:t=>t,casing:"smart-case",normalize:!0,fuzzy:"v2",tiebreakers:[],sort:!0,forward:!0},et=class{constructor(e,...n){switch(this.opts={...pt,...n[0]},this.items=e,this.runesList=e.map(i=>$(this.opts.selector(i).normalize())),this.algoFn=Dt,this.opts.fuzzy){case"v2":this.algoFn=Ft;break;case"v1":this.algoFn=Ut;break}}},xe={...pt,match:Ae},at=class extends et{constructor(e,...n){super(e,...n),this.opts={...xe,...n[0]}}find(e){if(e.length===0||this.items.length===0)return this.items.slice(0,this.opts.limit).map(Kt);e=e.normalize();let n=this.opts.match.bind(this)(e);return Yt(n,this.opts)}},Le={...pt,match:Se},ht=class extends et{constructor(e,...n){super(e,...n),this.opts={...Le,...n[0]},this.token={cancelled:!1}}async find(e){if(this.token.cancelled=!0,this.token={cancelled:!1},e.length===0||this.items.length===0)return this.items.slice(0,this.opts.limit).map(Kt);e=e.normalize();let n=await this.opts.match.bind(this)(e,this.token);return Yt(n,this.opts)}},Kt=t=>({item:t,start:-1,end:-1,score:0,positions:new Set});function Yt(t,e){if(e.sort){let{selector:n}=e;t.sort((i,s)=>{if(i.score===s.score)for(let l of e.tiebreakers){let a=l(i,s,n);if(a!==0)return a}return 0})}return Number.isFinite(e.limit)&&t.splice(e.limit),t}function Re(t,e,n){return n(t.item).length-n(e.item).length}function Ne(t,e){return t.start-e.start}var Rt=class{constructor(e,...n){this.finder=new at(e,...n),this.find=this.finder.find.bind(this.finder)}},Nt=class{constructor(e,...n){this.finder=new ht(e,...n),this.find=this.finder.find.bind(this.finder)}};export{Nt as AsyncFzf,Rt as Fzf,Se as asyncBasicMatch,we as asyncExtendedMatch,Ae as basicMatch,Re as byLengthAsc,Ne as byStartAsc,Ee as extendedMatch};
/*! Bundled license information:

fzf/dist/fzf.es.js:
  (** @license
   * fzf v0.5.2
   * Copyright (c) 2021 Ajit
   * Licensed under BSD 3-Clause
   *)
*/
//# sourceMappingURL=fzf.mjs.map