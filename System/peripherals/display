#! /System/kernel/castoreaKernel.js:initDevice

// display device

const ropes = {

    // update display
    updateInnerText: (id, value) => {
        const elem = document.getElementById(id)

        if (elem.innerText !== value) {
            elem.innerText = value;
        };
    },
    updateInnerHTML: (id, value) => {
        const elem = document.getElementById(id)

        if (elem.innerHTML !== value) {
            elem.innerHTML = value;
        };
    },
    updateElement: (id, data) => {
        const elem = document.getElementById(id)

        for (const i in data) {
            elem[i] = data[i]
        }
    },
    updateStyle: (id, styleName, value) => {
        const elem = document.getElementById(id)

        if (elem.style[styleName] !== value) {
            elem.style[styleName] = value;
        };
    },
    updateValue: (id, value) => {
        const elem = document.getElementById(id)

        if (elem.value !== value) {
            elem.value = value;
        };
    },
    appendChild(id, html) {
        const elem = document.getElementById(id);

        elem.insertAdjacentHTML(html)
    },

    // event listeners
    addEventListener: (id, eventName, func) => {
        const elem = document.getElementById(id);

        const funct = Object.getPrototypeOf(async function () {}).constructor(func.textAfter("{").textBeforeLast("}"))

        elem.addEventListener(eventName, async function (event) {
            funct(event)
        })
    },

    // element management
    focusElem: (id) => {
        const elem = document.getElementById(id)

        try {
            elem.focus()
            return 0
        } catch(e) {
            return -1
        }
    },


    // system focus management
    setSystemFcs(value) {
        system.fcs = value
    },
    setSystemMainFcs(value) {
        system.mainFcs = value
    },
    setSystemFocus(value) {
        system.focus = value
    },
}

return {
    ropes: ropes,
    restartClaimers: true
}